/*

Remove unwanted POS Options after JDA Generic Deploy 

Only a certain subset of POS options are supported in the Speedway custom RPOS version.
There can only be a total of 414 options in the option group.  402 of these options are
JDA preloaded data from the core version.  These reflect what existed at the time the
custom RPOS version was created.  The other 12 options were created in the Speedway
custom BC version.  These 12 have been created as client owned data (id > 1000000).

Each time the JDA Generic Deploy is executed, it will synchronize the POS options within
Option Groups and Option Templates.  This will add unwanted POS options that were created
in the JDA core after the creation of the custom RPOS version.  If these are present in 
the options group it will cause POS download failures.  In order to prevent this, execute
this script each time a Generic Deploy is executed in an environment.

*/

DECLARE @ClientId INT
SELECT @ClientId = MAX(client_id) FROM Rad_Sys_Client

-- Remove options from the group that are not part of the orginal set from BC order
-- the 12 added as Speedway data (id > 1000000).

DELETE POS_Option_Group_List
WHERE  POS_Option_Id < 1000000
AND    POS_Option_Id NOT IN (
102,
103,
104,
105,
106,
107,
108,
109,
110,
111,
112,
118,
120,
123,
126,
129,
201,
202,
203,
204,
205,
206,
207,
208,
210,
211,
212,
213,
214,
215,
216,
217,
218,
219,
220,
221,
222,
223,
224,
225,
227,
228,
229,
230,
231,
232,
233,
234,
236,
237,
238,
239,
240,
241,
242,
243,
244,
245,
246,
247,
248,
249,
250,
251,
252,
253,
254,
255,
256,
257,
258,
259,
260,
261,
262,
263,
264,
265,
266,
267,
268,
269,
270,
271,
272,
274,
275,
276,
277,
278,
279,
280,
281,
282,
283,
284,
285,
286,
287,
288,
289,
290,
291,
292,
293,
294,
295,
296,
297,
300,
301,
302,
303,
304,
305,
306,
307,
309,
310,
311,
312,
313,
314,
315,
316,
317,
322,
323,
324,
325,
326,
328,
330,
331,
332,
333,
334,
335,
336,
337,
338,
339,
340,
341,
342,
343,
344,
345,
346,
347,
348,
349,
350,
351,
352,
353,
354,
355,
356,
357,
358,
359,
360,
361,
362,
363,
364,
365,
367,
368,
369,
370,
371,
372,
373,
374,
375,
378,
379,
380,
381,
382,
383,
384,
385,
386,
387,
388,
390,
391,
392,
393,
394,
412,
413,
414,
415,
416,
417,
418,
419,
420,
421,
422,
423,
424,
425,
426,
427,
428,
429,
430,
431,
432,
433,
434,
435,
436,
437,
438,
439,
440,
441,
442,
443,
444,
445,
446,
447,
448,
449,
450,
451,
452,
453,
454,
455,
456,
457,
458,
459,
460,
461,
462,
463,
464,
465,
466,
467,
468,
469,
470,
471,
472,
473,
474,
475,
476,
477,
478,
479,
480,
481,
482,
483,
484,
485,
486,
487,
488,
489,
490,
491,
500,
501,
502,
603,
604,
605,
607,
608,
609,
610,
700,
20624,
20626,
20627,
20628,
20629,
20630,
20631,
20632,
20633,
20634,
20635,
20636,
20637,
20638,
20639,
20640,
20641,
20642,
20643,
20644,
20645,
20646,
20647,
20648,
20649,
20650,
20651,
20652,
20653,
20654,
20657,
20658,
20659,
20660,
20661,
20662,
20663,
20664,
20665,
20666,
20667,
20668,
20669,
20670,
20671,
20673,
20674,
20676,
20677,
20678,
20679,
20680,
20681,
20682,
20683,
20684,
20704,
20712,
20713,
20715,
20716,
20717,
20720,
20721,
20722,
20723,
20724,
20725,
20726,
20727,
20728,
20729,
20730,
20731,
20732,
20733,
20734,
20735,
20736,
20737,
20738,
20739,
20740,
20748,
20753,
20769,
20770,
20771,
20777,
20778,
20779,
20780,
20781,
20782,
20783,
20784,
20786,
20798,
20800,
20803,
20804,
20805,
20806,
20807,
20808,
20809,
20810,
20811,
20812,
20813,
20815,
20816,
20817,
20818,
20819,
20820,
20821,
20822)

-- Remove options from the template that are not part of the orginal set from BC order
-- the 12 added as Speedway data.

DELETE POS_Option_Template_List
WHERE  client_id > 0
AND    POS_Option_Id < 1000000
AND    POS_Option_Id NOT IN (
102,
103,
104,
105,
106,
107,
108,
109,
110,
111,
112,
118,
120,
123,
126,
129,
201,
202,
203,
204,
205,
206,
207,
208,
210,
211,
212,
213,
214,
215,
216,
217,
218,
219,
220,
221,
222,
223,
224,
225,
227,
228,
229,
230,
231,
232,
233,
234,
236,
237,
238,
239,
240,
241,
242,
243,
244,
245,
246,
247,
248,
249,
250,
251,
252,
253,
254,
255,
256,
257,
258,
259,
260,
261,
262,
263,
264,
265,
266,
267,
268,
269,
270,
271,
272,
274,
275,
276,
277,
278,
279,
280,
281,
282,
283,
284,
285,
286,
287,
288,
289,
290,
291,
292,
293,
294,
295,
296,
297,
300,
301,
302,
303,
304,
305,
306,
307,
309,
310,
311,
312,
313,
314,
315,
316,
317,
322,
323,
324,
325,
326,
328,
330,
331,
332,
333,
334,
335,
336,
337,
338,
339,
340,
341,
342,
343,
344,
345,
346,
347,
348,
349,
350,
351,
352,
353,
354,
355,
356,
357,
358,
359,
360,
361,
362,
363,
364,
365,
367,
368,
369,
370,
371,
372,
373,
374,
375,
378,
379,
380,
381,
382,
383,
384,
385,
386,
387,
388,
390,
391,
392,
393,
394,
412,
413,
414,
415,
416,
417,
418,
419,
420,
421,
422,
423,
424,
425,
426,
427,
428,
429,
430,
431,
432,
433,
434,
435,
436,
437,
438,
439,
440,
441,
442,
443,
444,
445,
446,
447,
448,
449,
450,
451,
452,
453,
454,
455,
456,
457,
458,
459,
460,
461,
462,
463,
464,
465,
466,
467,
468,
469,
470,
471,
472,
473,
474,
475,
476,
477,
478,
479,
480,
481,
482,
483,
484,
485,
486,
487,
488,
489,
490,
491,
500,
501,
502,
603,
604,
605,
607,
608,
609,
610,
700,
20624,
20626,
20627,
20628,
20629,
20630,
20631,
20632,
20633,
20634,
20635,
20636,
20637,
20638,
20639,
20640,
20641,
20642,
20643,
20644,
20645,
20646,
20647,
20648,
20649,
20650,
20651,
20652,
20653,
20654,
20657,
20658,
20659,
20660,
20661,
20662,
20663,
20664,
20665,
20666,
20667,
20668,
20669,
20670,
20671,
20673,
20674,
20676,
20677,
20678,
20679,
20680,
20681,
20682,
20683,
20684,
20704,
20712,
20713,
20715,
20716,
20717,
20720,
20721,
20722,
20723,
20724,
20725,
20726,
20727,
20728,
20729,
20730,
20731,
20732,
20733,
20734,
20735,
20736,
20737,
20738,
20739,
20740,
20748,
20753,
20769,
20770,
20771,
20777,
20778,
20779,
20780,
20781,
20782,
20783,
20784,
20786,
20798,
20800,
20803,
20804,
20805,
20806,
20807,
20808,
20809,
20810,
20811,
20812,
20813,
20815,
20816,
20817,
20818,
20819,
20820,
20821,
20822)

-- Both of these queries should return 414 rows.
SELECT COUNT(*) FROM POS_Option_Group_List
SELECT COUNT(*) FROM POS_Option_Template_List
WHERE client_id > 0

